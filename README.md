# Candy-shop


Этот проект включает два класса: Product и Category, которые позволяют управлять товарами и их категориями. Также предусмотрен метод для парсинга JSON-файлов с данными о категориях и товарах, а также дополнительные возможности для работы с продуктами и категориями.

## Описание классов

### 1. Product

Класс для представления продукта с такими атрибутами как название, описание, цена и количество.

**Атрибуты:**
- name (str) — Название продукта.
- description (str) — Описание продукта.
- price (float) — Цена продукта.
- quantity (int) — Количество продукта в наличии.

**Методы:**
- __init__(name, description, price, quantity) — Инициализирует объект продукта с заданными значениями.
- price (property) — Геттер для получения цены продукта.
- price (setter) — Сеттер для установки цены продукта с проверкой.
- quantity (property) — Геттер для получения количества продукта.
- quantity (setter) — Сеттер для установки количества продукта с проверкой.
- new_product(prod, existing_products) — Создает новый продукт из словаря или обновляет существующий продукт, если такой уже есть.

### 2. Category

Класс для представления категории товаров, которая может включать несколько продуктов.

**Атрибуты:**
- name (str) — Название категории.
- description (str) — Описание категории.
- products (list) — Список товаров, относящихся к категории.
- category_count (int) — Общее количество созданных категорий (статическое).
- product_count (int) — Общее количество товаров во всех категориях (статическое).

**Методы:**
- __init__(name, description, products) — Инициализирует объект категории.
- parser_json(file_path) — Парсит JSON-файл и обновляет атрибуты объекта с данными о категории.
- add_product(prod) — Добавляет продукт в категорию.
- products (property) — Геттер для получения списка товаров в читаемом формате.

## Новые фичи

- **Проверка на дубликаты продуктов**: Если продукт с таким же именем уже существует в списке товаров, его количество будет увеличено, а цена обновлена до максимальной.
- **Метод new_product** в классе `Product`, который позволяет создавать или обновлять продукт на основе данных из словаря.
- **Метод add_product** в классе `Category`, который позволяет добавлять новый продукт в категорию.
- **Гибкие геттеры и сеттеры для цены и количества**: Добавлены дополнительные проверки для установки значений цены и количества продуктов.

## Использование

### 1. Создание экземпляра класса Product


```python
product = Product(name="Product1", description="Description of Product1", price=19.99, quantity=100)
```


### 2. Создание экземпляра класса `Category`


```python
category = Category(name="Category1", description="Description of Category1", products=[product])
```

### 3. Парсинг JSON-файла


Для того чтобы заполнить данные о категории и продуктах из JSON-файла, используйте метод parser_json. Он читает файл по указанному пути и обновляет атрибуты объекта.


Пример использования:

```python
category = Category(name="", description="", products=[])
category_data = category.parser_json("path/to/categories.json")
```

### 4. Добавление нового продукта в категорию

```python
new_product = Product(name="New Product", description="New Product Description", price=29.99, quantity=50)
category.add_product(new_product)
```


### Пример JSON:

```json
[
  {
    "name": "Category1",
    "description": "Description of Category1",
    "products": [
      {
        "name": "Product1",
        "description": "Description of Product1",
        "price": 19.99,
        "quantity": 100
      }
    ]
  }
]
```


## Установка

Для работы с проектом необходимо иметь установленный Python 3.x. Если требуется установить зависимости, воспользуйтесь менеджером пакетов poetry.


Клонируйте репозиторий:

```bash
git clone https://github.com/BabyBlinkFeelDark/candy-shop.git
cd candy-shop
```

Установите необходимые библиотеки:

```bash
poetry install
```

Или используйте pip:
```bash
pip install -r requirements.txt
```

## Лицензия

Этот проект лицензирован под MIT License. Подробнее смотрите в файле [LICENSE]().

